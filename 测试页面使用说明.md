# 阿里云智能体 API 测试页面使用说明

## 📋 文件说明

- **test-dashscope-agent.html** - 测试页面（可直接在浏览器中打开使用）

## 🚀 使用方法

### 1. 打开测试页面

直接在浏览器中打开 `test-dashscope-agent.html` 文件，或使用本地服务器：

```bash
# 使用 Python 启动简单 HTTP 服务器
python -m http.server 8000

# 或使用 Node.js
npx http-server -p 8000
```

然后在浏览器中访问：`http://localhost:8000/test-dashscope-agent.html`

### 2. 填写配置信息

- **APP_ID**: 你的阿里云智能体应用 ID
- **DASHSCOPE_API_KEY**: 你的 DashScope API Key
- **提示词 (Prompt)**: 要测试的提示词，例如："你是谁？"

### 3. 发送请求

点击"发送请求"按钮，或使用快捷键 `Ctrl + Enter`（在提示词输入框中）

### 4. 查看结果

返回结果会显示在页面下方，包括：
- 成功响应：显示完整的 JSON 响应数据
- 错误响应：显示错误信息和状态码

## ✨ 功能特点

- ✅ 美观的现代化 UI 设计
- ✅ 自动保存配置到本地存储（刷新页面不丢失）
- ✅ 实时显示请求状态
- ✅ 格式化显示 JSON 响应
- ✅ 错误处理和提示
- ✅ 响应式设计，支持移动端

## 🔒 安全提示

- API Key 会保存在浏览器的 localStorage 中
- 建议在测试完成后清除浏览器数据
- 不要将包含 API Key 的页面分享给他人

## 📝 API 接口说明

测试页面调用的是阿里云 DashScope 的智能体快速调用接口：

```
POST https://dashscope.aliyuncs.com/api/v1/apps/{APP_ID}/completion
```

**请求头：**
- `Authorization: Bearer {DASHSCOPE_API_KEY}`
- `Content-Type: application/json`

**请求体：**
```json
{
    "input": {
        "prompt": "你的提示词"
    },
    "parameters": {},
    "debug": {}
}
```

## 🐛 常见问题

### 1. CORS 错误
如果遇到跨域问题，可能需要：
- 使用浏览器扩展禁用 CORS
- 或通过后端代理转发请求

### 2. 401 未授权
- 检查 API Key 是否正确
- 确认 API Key 是否有权限访问该 APP_ID

### 3. 404 未找到
- 检查 APP_ID 是否正确
- 确认智能体应用是否存在

## 📞 技术支持

如有问题，请参考：
- [阿里云 DashScope 文档](https://help.aliyun.com/zh/model-studio/)
- [智能体 API 文档](https://help.aliyun.com/zh/model-studio/developer-reference/api-details-9)

