# Tomcat
server:
  tomcat:
    uri-encoding: UTF-8
    threads:
      max: 1000
      min-spare: 30
  port: 8083
  servlet:
    context-path: /
    session:
      cookie:
        http-only: true

# Knife4j 配置
knife4j:
  enable: false
  setting:
    custom-code: 500
    enable-footer-custom: false

spring:
  config:
    import:
      - optional:classpath:application-secret.properties
  profiles:
    active: dev
  application:
    name: api-template
  jackson:
    time-zone: GMT+8
  servlet:
    multipart:
      max-file-size: 1024MB
      max-request-size: 1024MB

mybatis-plus:
  mapper-locations: classpath:mapper/*.xml
  typeAliasesPackage: top.mqxu.api.module.*.entity
  global-config:
    db-config:
      id-type: AUTO
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
  # 原生配置
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: false
    call-setters-on-nulls: true
    jdbc-type-for-null: 'null'
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  configuration-properties:
    prefix:
    blobType: BLOB
    boolValue: TRUE

# JWT 配置（从 application-secret.properties 读取）
jwt:
  secret: ${jwt.secret}
  expiration: ${jwt.expiration}

# 容联云短信配置（从 application-secret.properties 读取）
ronglian:
  server: ${ronglian.server}
  port: ${ronglian.port}
  account-sid: ${ronglian.account-sid}
  auth-token: ${ronglian.auth-token}
  app-id: ${ronglian.app-id}
  rest-url: https://${ronglian.server}:${ronglian.port}
  template-id: ${ronglian.template-id}

# 阿里云 OSS 配置（从 application-secret.properties 读取）
aliyun:
  oss:
    endpoint: ${aliyun.oss.endpoint}
    access-key: ${aliyun.oss.access-key}
    access-secret: ${aliyun.oss.access-secret}
    bucket: ${aliyun.oss.bucket}
    host: ${aliyun.oss.bucket}.${aliyun.oss.endpoint}

# 微信 API 配置（从 application-secret.properties 读取）
wechat:
  url: https://api.weixin.qq.com/sns/jscode2session
  app-id: ${wechat.app-id}
  app-secret: ${wechat.app-secret}
